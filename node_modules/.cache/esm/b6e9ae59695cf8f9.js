let Router,fetchMovies,fetchMovieByID,updateMovieRating,addNewMovie,deleteMovie,AccessControlMiddleware,AuthMiddleware,schema;_695‍.x([["default",()=>_695‍.o]]);_695‍.w("express",[["Router",["Router"],function(v){Router=v}]]);_695‍.w("../controllers/movie.controller",[["fetchMovies",["fetchMovies"],function(v){fetchMovies=v}],["fetchMovieByID",["fetchMovieByID"],function(v){fetchMovieByID=v}],["updateMovieRating",["updateMovieRating"],function(v){updateMovieRating=v}],["addNewMovie",["addNewMovie"],function(v){addNewMovie=v}],["deleteMovie",["deleteMovie"],function(v){deleteMovie=v}]]);_695‍.w("../middlewares/accessControl",[["default",["AccessControlMiddleware"],function(v){AccessControlMiddleware=v}]]);_695‍.w("../middlewares/auth.middleware",[["default",["AuthMiddleware"],function(v){AuthMiddleware=v}]]);_695‍.w("../validations/schema.js",[["default",["schema"],function(v){schema=v}]]);











const { isBiUser, isActive } = AccessControlMiddleware;
const { validate, authenticate } = AuthMiddleware;
const { addMovieSchema } = schema;

const router = Router();

router.get("/", fetchMovies);
router.get("/:id", fetchMovieByID);
router.put("/rating", [authenticate, isActive], updateMovieRating);
router.post(
  "/add-movie",
  validate(addMovieSchema),
  [authenticate, isBiUser],
  addNewMovie
);
router.delete("/delete/:id", [authenticate, isBiUser], deleteMovie);

_695‍.d(router);
