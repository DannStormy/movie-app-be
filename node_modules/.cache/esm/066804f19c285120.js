let db,public_queries;_9c2‍.x([["default",()=>PublicService]]);_9c2‍.w("../config/config",[["default",["db"],function(v){db=v}]]);_9c2‍.w("../queries/public_queries",[["default",["public_queries"],function(v){public_queries=v}]]);


const { fetchMoviesByPage, fetchAllMovies, fetchMovieByTitle, fetchMovieByRating } = public_queries;

               class PublicService {
    /**
     * fetch all movies
     * @memberof PublicService
     */
    static async fetchAllMovies() {
        return db.any(fetchAllMovies);
    }

    /**
     * fetch movies by page
     * @memberof PublicService
     */
    static async fetchMoviesByPage(data) {
        let { page } = data
        return db.any(fetchMoviesByPage, [page]);
    }

    /**
     * fetch movies by name
     * @memberof PublicService
     */
    static async fetchMovieByTitle(data) {
        let { title } = data
        return db.any(fetchMovieByTitle, [`%${title}%`]);
    }

    /**
     * fetch movies by rating
     * @memberof PublicService
     */
    static async fetchMovieByRating(data) {
        let { rating } = data
        return db.manyOrNone(fetchMovieByRating, [rating, `${rating}.9`]);
    }

}
