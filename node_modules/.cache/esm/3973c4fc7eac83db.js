let Router,superLogin,fetchUsers,createNewAdmin,changeUserStatus,changeAdminStatus,AccessControlMiddleware,SuperMiddleware,UserMiddleware,schema;_7ea‍.x([["default",()=>_7ea‍.o]]);_7ea‍.w("express",[["Router",["Router"],function(v){Router=v}]]);_7ea‍.w("../controllers/super.controller.js",[["superLogin",["superLogin"],function(v){superLogin=v}],["fetchUsers",["fetchUsers"],function(v){fetchUsers=v}],["createNewAdmin",["createNewAdmin"],function(v){createNewAdmin=v}],["changeUserStatus",["changeUserStatus"],function(v){changeUserStatus=v}],["changeAdminStatus",["changeAdminStatus"],function(v){changeAdminStatus=v}]]);_7ea‍.w("../middlewares/accessControl",[["default",["AccessControlMiddleware"],function(v){AccessControlMiddleware=v}]]);_7ea‍.w("../middlewares/super.middleware",[["default",["SuperMiddleware"],function(v){SuperMiddleware=v}]]);_7ea‍.w("../middlewares/user.js",[["default",["UserMiddleware"],function(v){UserMiddleware=v}]]);_7ea‍.w("../validations/schema.js",[["default",["schema"],function(v){schema=v}]]);












const router = Router();

const { isSuper } = AccessControlMiddleware;
const { loginSchema, createAdminSchema, changeStatusSchema } = schema;
const { checkDetails, checkAdminExists } = SuperMiddleware;
const { authenticate, validate } = UserMiddleware;

router.get("/users", [authenticate, isSuper], fetchUsers);
router.post("/login", validate(loginSchema), checkDetails, superLogin);
router.post(
  "/create-admin",
  validate(createAdminSchema),
  checkAdminExists,
  [authenticate, isSuper],
  createNewAdmin
);
router.put(
  "/setuserstate",
  validate(changeStatusSchema),
  [authenticate, isSuper],
  changeUserStatus
);
router.put(
  "/setadminstate",
  validate(changeStatusSchema),
  [authenticate, isSuper],
  changeAdminStatus
);

_7ea‍.d(router);
