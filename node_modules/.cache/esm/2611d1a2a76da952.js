let db,public_queries;_a76‍.x([["default",()=>MovieService]]);_a76‍.w("../config/config",[["default",["db"],function(v){db=v}]]);_a76‍.w("../queries/movie.queries",[["default",["public_queries"],function(v){public_queries=v}]]);


const { fetchAllMovies, searchMovieQuery, fetchMovieByID } = public_queries;

               class MovieService {
  /**
   * fetch all movies
   * @memberof MovieService
   */
  static async fetchAllMovies() {
    return db.any(fetchAllMovies);
  }

  /**
   * fetch movies by name, genre, year
   * @memberof MovieService
   */
  static async fetchMovieByQuery(query) {
    const { title, year, genre } = query;
    return db.any(searchMovieQuery, [`%${title}%`, year, `%${genre}`]);
  }

  /**
   * fetch movies by ID
   * @memberof MovieService
   */
  static async fetchMovieByID(params) {
    const { id } = params;
    return db.any(fetchMovieByID, [id]);
  }
}
