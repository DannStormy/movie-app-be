let Router,fetchMovies,fetchMovieByID,updateMovieRating,addNewMovie,deleteMovie,AccessControlMiddleware,UserMiddleware,schema;_c82‍.x([["default",()=>_c82‍.o]]);_c82‍.w("express",[["Router",["Router"],function(v){Router=v}]]);_c82‍.w("../controllers/movie.controller",[["fetchMovies",["fetchMovies"],function(v){fetchMovies=v}],["fetchMovieByID",["fetchMovieByID"],function(v){fetchMovieByID=v}],["updateMovieRating",["updateMovieRating"],function(v){updateMovieRating=v}],["addNewMovie",["addNewMovie"],function(v){addNewMovie=v}],["deleteMovie",["deleteMovie"],function(v){deleteMovie=v}]]);_c82‍.w("../middlewares/accessControl",[["default",["AccessControlMiddleware"],function(v){AccessControlMiddleware=v}]]);_c82‍.w("../middlewares/user.js",[["default",["UserMiddleware"],function(v){UserMiddleware=v}]]);_c82‍.w("../validations/schema.js",[["default",["schema"],function(v){schema=v}]]);











const { isTriUser, isBiUser, isActive } = AccessControlMiddleware;
const { validate, authenticate } = UserMiddleware;
const { addMovieSchema } = schema;

const router = Router();

router.get("/", fetchMovies);
router.get("/:id", fetchMovieByID);
router.put("/rating", [authenticate, isTriUser, isActive], updateMovieRating);
router.post(
  "/add-movie",
  validate(addMovieSchema),
  [authenticate, isBiUser],
  addNewMovie
);
router.delete("/delete/:id", [authenticate, isBiUser], deleteMovie);

_c82‍.d(router);
