let db,registerSchema;_398‍.x([["checkRegister",()=>checkRegister],["checkUserExists",()=>checkUserExists]]);_398‍.w("../config/config",[["default",["db"],function(v){db=v}]]);_398‍.w("../validations",[["registerSchema",["registerSchema"],function(v){registerSchema=v}]]);


const checkRegister = async (req, res, next) => {
	try {
        const value = await registerSchema.validateAsync(req.body);
        if (value) next()
    }
    catch (err) {
        return res.status(406).json({message: err.message})
     }
};

const checkUserExists = async (req, res, next) => {
    try {
        let userExists = await db.any(findUserByEmail, email)
        if (userExists.length > 0) {
            return res.status(409).json({status: 'conflict', message: 'User Exists'})
        }
    } catch (error) {
        _398‍.g.console.log(error)
        return error
    }
}






